<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Turismo BSB</title>

    <!-- Style Css Link-->
    <link rel="stylesheet" href="style.css">
    <!-- Style Css Link-->

    <!-- Font Link-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <!-- Font Link-->

    <!-- Google Font link-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <!-- Google Font link-->

</head>
<body>
 
    <!-- hearder start -->

    <div class="header">
        <nav>

            <input type="checkbox" id="show-search">
            <input type="checkbox" id="show-menu">
            <label for="show-menu" class="menu-icon"><i class=" fas fa-bars"></i></label>

            <div class="content">

                <div class="logo">
                      <div class="logo"><a href="index.html"><img src="./images/logo.png" alt=""></a></div>      
                </div>
                <ul class="links">
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Serviços</a></li>
                    <li><a href="#">Sobre</a></li>
                    <li><a href="#">Pacotes</a></li>
                    <li><a href="#">Gastronomia</a></li>
                    <li><a href="#">Comentários</a></li>
                </ul>
            </div>
            <label for="show-search" class="search-icon"><i class="fas fa-search"></i></label>
            <form action="#" class="search-box">
                <input type="text" placeholder="Search" required>
                <button type="submit" class="go-icon"><i class="fas fa-long-arrow-alt-right"></i></button>
            </form>


        </nav>
</div>

    <!-- hearder ends -->

    <!-- Home Section -->
    <section class="home" id="home">
        <div class="main-text">
            <h3>Conheça Os Principais
                <br> Pontos Turisticos De Brasilia
            </h3>
        
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto ut tenetur ipsum officia itaque laborum!</p>
       
        <button id="login-google">Entrar com Google</button>

        


    </div>

    </section>
    <!-- Home Section -->

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="heading">
            <h3>Services</h3>
        </div>
            <div class="card-content">

                <div class="row">
                    <i class="fas fa-globe-asia"></i>
                    <div class="card-body">
                        <h3>Pela sua Capital</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, eveniet. Dolore repudiandae ex accusantium beatae officiis? Doloribus quisquam id voluptatum!</p>
                    </div>
                </div>
                <div class="row">
                    <i class="fas fa-plane"></i>
                    <div class="card-body">
                        <h3>Culinária da Capital</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, eveniet. Dolore repudiandae ex accusantium beatae officiis? Doloribus quisquam id voluptatum!</p>
                    </div>
                </div>
                <div class="row">
                    <i class="fas fa-hotel"></i>
                    <div class="card-body">
                        <h3>Icones do Brasil</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, eveniet. Dolore repudiandae ex accusantium beatae officiis? Doloribus quisquam id voluptatum!</p>
                    </div>
                </div>
                <div class="row">
                    <i class="fas fa-bullhorn"></i>
                    <div class="card-body">
                        <h3>Xesquedele</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, eveniet. Dolore repudiandae ex accusantium beatae officiis? Doloribus quisquam id voluptatum!</p>
                    </div>
                </div>

            </div>
        
    </section>
    <!-- Services Section -->

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-img">
        <!-- Substituímos a imagem por uma div para o mapa -->
        <div id="map" style="width: 100%; height: 400px;"></div>
        </div>
    
        <div class="about-info">
        <h6>Principais Pontos</h6>
        <h3>Nosso Mapa Guia</h3>
        <p>Descubra os principais pontos turísticos da capital do Brasil com facilidade! Nosso mapa interativo apresenta Brasília em seu famoso formato de avião, pensado por Lúcio Costa, e destaca locais imperdíveis como a Catedral, o Congresso Nacional, o Memorial JK e muito mais. Basta clicar nos ícones para saber mais sobre cada atração, planejar sua visita e aproveitar o melhor que a cidade tem a oferecer. Ideal para quem quer explorar Brasília de forma prática, informativa e divertida!</p>
        </div>
    </section>
  <!-- About Section -->
  



    <!-- Gallary Section -->
     <section class="gallary" id="gallary">
        <div class="heading">
            <h3>Our Gallary <i class="fa-solid fa-arrow-down"></i></h3>
        </div>

        <div class="gallary-card">
            <div class="row">
                <img src="./images/p1.png" alt="">
            </div>
            <div class="row">
                <img src="./images/p2.png" alt="">
            </div>
            <div class="row">
                <img src="./images/p3.png" alt="">
            </div>
            <div class="row">
                <img src="./images/p4.jpg" alt="">
            </div>
            <div class="row">
                <img src="./images/p5.webp" alt="">
            </div>
        </div>
     </section>
    <!-- Gallary Section -->



    <!-- Packages Section -->
    <section class="packages" id="packages">
      <div class="main-text">
        <div class="category-toggle-bar">
          <div class="category-toggle">
            <button class="category-btn active" data-category="turismo">Turismo</button>
            <button class="category-btn" data-category="gastronomia">Gastronomia</button>
          </div>
          <div class="search-box">
            <input type="text" id="search-input" placeholder="Pesquisar...">
          </div>
        </div>
      </div>
       
        <div class="packages-layout">
    
        <!-- COLUNA DE FILTROS -->
        <div class="filter-sidebar-wrapper">
            <div class="filter-sidebar">
                <h4>Filtros</h4>
            
                <!-- FILTROS GERAIS -->
                <div class="filter-group">
                <p>Entrada</p>
                <label><input type="checkbox" name="entrada" value="Grátis"> Grátis</label>
                <label><input type="checkbox" name="entrada" value="Pago"> Pago</label>
                </div>
            
                <div class="filter-group">
                <p>Disponibilidade</p>
                <label><input type="checkbox" name="funcionamento" value="Semana"> Durante a Semana</label>
                <label><input type="checkbox" name="funcionamento" value="Fim de Semana"> Fim de Semana</label>
                <label><input type="checkbox" name="funcionamento" value="Ambos"> Todos os Dias</label>
                </div>
            
                <!-- FILTROS PARA PONTOS TURÍSTICOS -->
                <div class="filter-group">
                <p>Turismo</p>
                <label><input type="checkbox" name="turismo" value="Monumentos"> Monumentos</label>
                <label><input type="checkbox" name="turismo" value="Arquitetura"> Arquitetura</label>
                <label><input type="checkbox" name="turismo" value="Cultura"> Cultura</label>
                <label><input type="checkbox" name="turismo" value="Museus"> Museus</label>
                <label><input type="checkbox" name="turismo" value="Paisagens"> Paisagens</label>
                <label><input type="checkbox" name="turismo" value="Santuários"> Santuários</label>
                <label><input type="checkbox" name="turismo" value="Instituições Governamentais"> Instituições Governamentais</label>
                <label><input type="checkbox" name="turismo" value="Natureza"> Natureza</label>
                <label><input type="checkbox" name="turismo" value="Comércio"> Comércio</label>
                </div>
            
                <!-- FILTROS PARA GASTRONOMIA -->
                <div class="filter-group">
                <p>Gastronomia</p>
                <label><input type="checkbox" name="gastronomia" value="Comida Típica"> Comida Típica</label>
                <label><input type="checkbox" name="gastronomia" value="Famosos"> Famosos</label>
                <label><input type="checkbox" name="gastronomia" value="Tradicionais"> Tradicionais</label>
                <label><input type="checkbox" name="gastronomia" value="Barzinho"> Barzinho</label>
                <label><input type="checkbox" name="gastronomia" value="Vida Noturna"> Vida Noturna</label>
                <label><input type="checkbox" name="gastronomia" value="Cafés"> Cafés</label>
                <label><input type="checkbox" name="gastronomia" value="Food Trucks"> Food Trucks</label>
                </div>
            </div>
        </div>
        <!-- FIM DOS FILTROS -->
        
        
      <!-- CARDS QUE ESTÃo no cardsData.js -->
        <div class="slider-container">
          <div class="slider" id="slider">
            </div>
          </div>
        </div>
      </section>
      <!-- CARDS QUE ESTÃo no cardsData.js -->
        
      
    <!-- Packages Section☻ -->

    <!-- Agendamento Section -->
    <section class="book" id="book">
        <div class="book-img">
            <img src="images/book-img.png" alt="">
        </div>
        <div class="book-form">
            <h5>AGENDAR SERVIÇO</h5>
            <!-- Formulário único -->
            <form id="booking-form">
                <input type="text" id="nome" placeholder="Seu nome" required>
                <input type="text" id="email" placeholder="Email" required>
                <input type="text" id="telefone" placeholder="Telefone" required>
                <select id="turno" required>
                    <option value="" disabled selected>Selecione o turno</option>
                    <option value="Manhã">Manhã</option>
                    <option value="Tarde">Tarde</option>
                </select>
                <input type="date" id="data" required>
                <div class="quantidade-container">
                    <label>Quantidade de pessoas:</label>
                    <div class="quantidade-box">
                        <button type="button" id="decrement">-</button>
                        <span id="quantidade">1</span>
                        <button type="button" id="increment">+</button>
                    </div>
                </div>
                <textarea id="observacoes" placeholder="Observações (opcional)" rows="4"></textarea>

            </form>

            <button id="pagarBtn">Pagar Agora</button>


                <script>
                    document.addEventListener("DOMContentLoaded", () => {
                        document.getElementById('pagarBtn').addEventListener('click', async (e) => {
                            e.preventDefault();
                    
                            const nome = document.getElementById('nome').value.trim();
                            const email = document.getElementById('email').value.trim();
                            const telefone = document.getElementById('telefone').value.trim();
                            const turno = document.getElementById('turno').value;
                            const data = document.getElementById('data').value;
                            const quantidade = parseInt(document.getElementById('quantidade').textContent); // Se for um span
                            const observacoes = document.getElementById('observacoes').value;
                    
                            if (!nome || !turno || !email || !telefone || !data) {
                                alert("Preencha todos os campos obrigatórios!");
                                return;
                            }
                    
                            try {
                                console.log("Enviando requisição para gerar link de pagamento...");
                                const res = await fetch("http://127.0.0.1:5000/gerar_link_pagamento", {
                                    method: "POST",
                                    headers: { "Content-Type": "application/json" },
                                    body: JSON.stringify({
                                        nome,
                                        email,
                                        telefone,
                                        turno,
                                        data,
                                        quantidade,
                                        observacoes
                                    })
                                });
                    
                                const result = await res.json();
                                console.log("Resposta do backend:", result);
                    
                                if (result.url) {
                                    const agendamentoRes = await fetch("http://127.0.0.1:5000/salvar_agendamento", {
                                        method: "POST",
                                        headers: { "Content-Type": "application/json" },
                                        body: JSON.stringify({
                                            nome,
                                            email,
                                            telefone,
                                            turno,
                                            data,
                                            quantidade,
                                            observacoes,
                                            pref_id: result.pref_id
                                        })
                                    });
                    
                                    const agendamentoResult = await agendamentoRes.json();
                                    console.log(agendamentoResult.mensagem);
                                    
                                    window.open(result.url, "_blank");


                                } else {
                                    console.error("Erro ao gerar link de pagamento:", result);
                                    alert("Erro ao gerar link de pagamento.");
                                }
                    
                            } catch (err) {
                                console.error("Erro:", err);
                                alert("Erro ao processar a solicitação.");
                            }
                        });
                    });
                    </script>
                    
        </div>
    </section>

    
    
    
    
    
    
    
    
    
    
        
        
      
  

    

    <!-- Footer -->
    <footer id="footer">
        <div class="footer-content">
            <div class="row" id="row1">
                <a href="#" id="footer-logo">Travel Agency</a>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi ducimus distinctio totam doloremque dolores? Dignissimos pariatur culpa eaque molestias recusandae?</p>
                <div class="social-links">
                    <i class="fa-brands fa-twitter"></i>
                    <i class="fa-brands fa-facebook-f"></i>
                    <i class="fa-brands fa-instagram"></i>
                    <i class="fa-brands fa-youtube"></i>
                    <i class="fa-brands fa-pinterest-p"></i>
                </div>
            </div>
            <div class="row" id="row2">
                <h3>Usefull Links</h3>
                <ul>
                    <li><a href="#"></a>Home</li>
                    <li><a href="#"></a>Packages</li>
                    <li><a href="#"></a>Book</li>
                    <li><a href="#"></a>About us</li>
                    <li><a href="#"></a>Contact us</li>
                </ul>
            </div>
            <div class="row" id="row3">
                <h3>Other Links</h3>
                <ul>
                    <li><a href="#">Web Design</a></li>
                    <li><a href="#">App Design</a></li>
                    <li><a href="#">Game Design</a></li>
                    <li><a href="#">Term Design</a></li>
                    <li><a href="#">Privacy Policy«</a></li>
                </ul>
            </div>
            <div class="row" id="row4">
                <h3>Download App</h3>
                <img src="images/app.png" alt="">
            </div>
        </div>
    </footer>



    


    <!-- Scripts de bibliotecas externas -->
    <script src="https://sdk.mercadopago.com/js/v2"></script>
    
    


    <script src="js/mapa.js"></script>
    <script src="js/carousel.js"></script>
    <script src="js/filter.js"></script>
    <script src="js/cardsData.js"></script>
    <script src="js/cardsGastronomia.js"></script>
    <script src="js/renderCards.js"></script>

    

    

    <!-- SCRIPT BARRA DE FILTRO ACOMPANHANDO OS CARDS -->

    <script>
        const sidebar = document.querySelector(".filter-sidebar");
        const section = document.querySelector(".packages-layout");
      
        function updateSidebarPosition() {
          if (window.innerWidth <= 920) {
            sidebar.style.position = "static";
            sidebar.style.marginTop = "0";
            return;
          }
      
          const sectionTop = section.offsetTop;
          const sectionBottom = sectionTop + section.offsetHeight;
          const sidebarHeight = sidebar.offsetHeight;
          const scrollY = window.scrollY;
          const maxOffset = sectionBottom - sectionTop - sidebarHeight; // Limite para parar
          let offset = scrollY - sectionTop + 20;
      
          // Corrige caso a seção seja menor que a sidebar
          if (maxOffset < 0) {
            offset = 0;
          } else {
            offset = Math.min(offset, maxOffset);
          }
      
          sidebar.style.position = "relative";
          sidebar.style.marginTop = `${Math.max(0, offset)}px`;
        }
      
        window.addEventListener("scroll", updateSidebarPosition);
        window.addEventListener("resize", updateSidebarPosition);
        window.addEventListener("load", updateSidebarPosition);
      </script>
      
      
      
        
      
      


    <!-- Script da API do Google Maps (com sua chave) -->
    <script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5XbF4j5T8yFDs3fcHbN-wYpShKX-M0uA&callback=initMap">
    </script>

    <!-- Footer☻ -->

</body>
</html>